{"version":3,"sources":["components/button/Button.js","components/modal/Modal.js","components/overlay/Overlay.js","settings/editor/theme/ipfs_dark.js","lib/i18n.js","icons/StrokeSpeaker.js","components/language-selector/language-modal/LanguageModal.js","components/language-selector/LanguageSelector.js","settings/editor/JsonEditor.js","settings/DesktopSettings.js","settings/SettingsPage.js"],"names":["Button","_ref","_ref$bg","bg","_ref$color","color","_ref$className","className","disabled","danger","_ref$minWidth","minWidth","children","style","props","Object","_home_circleci_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","colorClass","cls","concat","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","assign","_home_circleci_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","ModalActions","justify","_home_circleci_project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","backgroundColor","defaultProps","ModalBody","_ref2","icon","title","React","width","height","Modal","_ref3","onCancel","maxWidth","_icons_GlyphSmallCancel__WEBPACK_IMPORTED_MODULE_2__","onClick","Overlay","show","onLeave","react_overlays__WEBPACK_IMPORTED_MODULE_2__","backdropClassName","onKeyDown","e","stopPropagation","nativeEvent","stopImmediatePropagation","key","onBackdropClick","ace","define","acequire","exports","module","isDark","cssClass","cssText","importCssString","getLanguage","localeCode","info","languages","lang","split","nativeName","englishName","StrokeSpeaker","react_default","viewBox","d","LanguageModal","t","tReady","link","objectWithoutProperties","SpeakerIcon","localesList","map","i18n","changeLanguage","handleClick","LanguageSelector","state","isLanguageModalOpen","onLanguageEditOpen","_this","setState","onLanguageEditClose","this","language","language_modal_LanguageModal","Component","JsonEditor","_this$props","value","readOnly","onChange","Math","max","length","lib_default","mode","theme","fontSize","showPrintMargin","showGutter","editorProps","$blockScrolling","Infinity","setOptions","showLineNumbers","tabSize","isMac","navigator","platform","toUpperCase","indexOf","altKey","ctrlKey","CheckboxSetting","Checkbox","Key","TranslatedDesktopSettings","translate","doDesktopSettingsToggle","desktopSettings","Box","Title","DesktopSettings_CheckboxSetting","checked","es","i18nKey","defaults","values","components","DesktopSettings_Key","connect","SettingsPage","isConfigBlocked","isLoading","isSaving","hasSaveFailed","hasSaveSucceded","hasErrors","hasLocalChanges","hasExternalChanges","isIpfsDesktop","config","onReset","onSave","editorKey","data-id","Helmet","settings_DesktopSettings","language_selector_LanguageSelector","AnalyticsToggle","SettingsPage_SettingsInfo","SettingsPage_SaveButton","editor_JsonEditor","SaveButton","GlyphSmallTick","transform","SettingsInfo","SettingsPageContainer","_React$Component","_getPrototypeOf2","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","editableConfig","Date","now","isValidJson","doSaveConfig","inherits","createClass","str","JSON","parse","err","msSinceEpoch","prevProps","_this2","configSaveLastSuccess","setTimeout","isRecent","configIsLoading","configLastError","configIsSaving","configSaveLastError","_this$state","SettingsPage_SettingsPage","TranslatedSettingsPage"],"mappings":"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","file":"static/js/12.df8af891.chunk.js","sourcesContent":["import React from 'react'\nimport './Button.css'\n\nconst Button = ({ bg = 'bg-aqua', color = 'white', className = '', disabled, danger, minWidth = 140, children, style, ...props }) => {\n  const bgClass = danger ? 'bg-red' : disabled ? 'bg-gray-muted' : bg\n  const colorClass = danger ? 'white' : disabled ? 'light-gray' : color\n  const cls = `Button transition-all sans-serif dib v-mid fw5 nowrap lh-copy bn br1 pa2 pointer focus-outline ${bgClass} ${colorClass} ${className}`\n  return (\n    <button className={cls} disabled={disabled} style={{ minWidth, ...style }} {...props}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CancelIcon from '../../icons/GlyphSmallCancel'\n\nexport const ModalActions = ({ justify, className, children, ...props }) => (\n  <div className={`flex justify-${justify} pa2 ${className}`} style={{ backgroundColor: '#f4f6f8' }} {...props}>\n    { children }\n  </div>\n)\n\nModalActions.propTypes = {\n  justify: PropTypes.string,\n  className: PropTypes.string\n}\n\nModalActions.defaultProps = {\n  justify: 'between',\n  className: ''\n}\n\nexport const ModalBody = ({ className, icon, title, children, ...props }) => {\n  icon = React.createElement(icon, {\n    className: 'fill-gray w3'\n  })\n\n  return (\n    <div className={`ph2 pv3 tc ${className}`} {...props}>\n      <div className='center bg-snow br-100 flex justify-center items-center' style={{ width: '80px', height: '80px' }}>\n        {icon}\n      </div>\n\n      <p className='charcoal-muted fw5'>{title}</p>\n\n      {children}\n    </div>\n  )\n}\n\nModalBody.propTypes = {\n  icon: PropTypes.func.isRequired,\n  title: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ])\n}\n\nModalBody.defaultProps = {\n  className: ''\n}\n\nexport const Modal = ({ onCancel, children, className, ...props }) => {\n  return (\n    <div className={`${className} bg-white w-80 shadow-4 sans-serif relative`} style={{ maxWidth: '30em' }} {...props}>\n      { onCancel &&\n        <CancelIcon className='absolute pointer w2 h2 top-0 right-0 fill-gray' onClick={onCancel} />\n      }\n\n      {children}\n    </div>\n  )\n}\n\nModal.propTypes = {\n  onCancel: PropTypes.func\n}\n\nModal.defaultProps = {\n  onCancel: null,\n  className: ''\n}\n\nexport default Modal\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Modal } from 'react-overlays'\n\nfunction Overlay ({ children, show, onLeave, className, ...props }) {\n  const stopPropagation = (e) => {\n    e.stopPropagation()\n    e.nativeEvent.stopImmediatePropagation()\n\n    if (e.key === 'Escape') {\n      onLeave()\n    }\n  }\n\n  return (\n    <Modal\n      {...props}\n      show={show}\n      className={`${className} fixed top-0 left-0 right-0 bottom-0 z-max flex items-center justify-around`}\n      backdropClassName='fixed top-0 left-0 right-0 bottom-0 bg-black o-50'\n      onKeyDown={stopPropagation}\n      onBackdropClick={onLeave}>\n      {children}\n    </Modal>\n  )\n}\n\nOverlay.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onLeave: PropTypes.func.isRequired\n}\n\nOverlay.defaultProps = {\n  className: ''\n}\n\nexport default Overlay\n","/* global ace */\n// modified from https://github.com/thlorenz/brace/blob/master/theme/solarized_dark.js\nace.define('ace/theme/ipfs_dark', ['require', 'exports', 'module', 'ace/lib/dom'], function (acequire, exports, module) {\n  exports.isDark = true\n  exports.cssClass = 'ace-ipfs-dark'\n  exports.cssText = `\n  .ace-ipfs-dark .ace_gutter {\n  background: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_print-margin {\n  width: 1px;\n  background: #69c4cd;\n  }\n  .ace-ipfs-dark {\n  background-color: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_entity.ace_other.ace_attribute-name,\n  .ace-ipfs-dark .ace_storage {\n  color: #f7f8fa;\n  }\n  .ace-ipfs-dark .ace_rparen,\n  .ace-ipfs-dark .ace_lparen {\n    color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_cursor,\n  .ace-ipfs-dark .ace_string.ace_regexp {\n  color: #ea5037\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_active-line,\n  .ace-ipfs-dark .ace_marker-layer .ace_selection {\n  background: rgba(255, 255, 255, 0.1)\n  }\n  .ace-ipfs-dark.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #244e66;\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_gutter-active-line {\n  background-color: #244e66\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_selected-word {\n  border: 1px solid #244e66\n  }\n  .ace-ipfs-dark .ace_invisible {\n  color: rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_keyword,\n  .ace-ipfs-dark .ace_meta,\n  .ace-ipfs-dark .ace_support.ace_class,\n  .ace-ipfs-dark .ace_support.ace_type {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_constant.ace_character,\n  .ace-ipfs-dark .ace_constant.ace_other {\n  color: #f36149\n  }\n  .ace-ipfs-dark .ace_constant.ace_language {\n  color: #f9a13e\n  }\n  .ace-ipfs-dark .ace_constant.ace_numeric {\n  color: #f39021\n  }\n  .ace-ipfs-dark .ace_fold {\n  background-color: #69c4cd;\n  border-color: #93A1A1\n  }\n  .ace-ipfs-dark .ace_entity.ace_name.ace_function,\n  .ace-ipfs-dark .ace_entity.ace_name.ace_tag,\n  .ace-ipfs-dark .ace_support.ace_function,\n  .ace-ipfs-dark .ace_variable,\n  .ace-ipfs-dark .ace_variable.ace_language {\n  color: #edf0f4\n  }\n  .ace-ipfs-dark .ace_string {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_comment {\n  font-style: italic;\n  color: #657B83\n  }\n  .ace-ipfs-dark .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y\n  }`\n\n  var dom = acequire('../lib/dom')\n  dom.importCssString(exports.cssText, exports.cssClass)\n})\n","import i18n from '../i18n'\n// languages.json generated from our locale dir via https://github.com/olizilla/lol\nimport languages from './languages.json'\n\nexport const getCurrentLanguage = () => {\n  return getLanguage(i18n.language)\n}\n\nexport const getLanguage = (localeCode) => {\n  if (!localeCode) return 'Unknown'\n\n  const info = languages[localeCode]\n\n  if (!info) {\n    // if we haven't got the info in the `languages.json` we split it to get the language\n    const lang = languages[localeCode.split('-')[0]]\n    // if we have the language we add it, else we fallback to english (Web UI default lang)\n    return (lang && lang.nativeName) || languages['en'].englishName\n  }\n\n  return info.nativeName\n}\n","import React from 'react'\n\nconst StrokeSpeaker = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M76.1 16.42c-.81 0-23.86 4.63-43.07 8.52a13.27 13.27 0 0 1-1.48.16c-4.6.39-15.38 1.3-15.38 16.56 0 9.6 4.68 14.68 9.42 16.42l.06 17.67a7.78 7.78 0 0 0 7.5 7.83c2.93 0 9.79 0 9.79-5.08v-.14L40.93 58h5.2c.65.15 3.4.84 6.55 1.62 20.32 5.05 22.75 5.6 23.26 5.6 7.37 0 12.72-10.19 12.72-24.28 0-14.22-5.28-24.52-12.56-24.52zM46 55a30.82 30.82 0 0 1-3.85-14.81 30.46 30.46 0 0 1 3.75-14.67l-.16-.08c8.34-1.68 16.93-3.4 22.86-4.57-3.17 3.82-5.32 10.3-5.65 17.91 0 .68-.05 1.37-.05 2.07v2c.31 7.34 2.31 13.63 5.29 17.51-4.8-1.18-10.77-2.66-14.84-3.68C46.53 55 46.53 55 46.3 55zm30.17-35.58c5.33.09 9.49 9.49 9.49 21.48v.1c0 11.85-4.22 21.15-9.64 21.24-.5-.08-2.5-.55-5.2-1.21-2.48-2.29-4.46-6.39-5.54-11.46 3.08-.09 5.48-3.92 5.48-8.8s-2.38-8.68-5.44-8.77c1.14-5.22 3.25-9.4 5.86-11.6 2.73-.57 4.55-.92 4.99-.98zm-11.12 14h.12c2.22 0 4.09 3.34 4.09 7.3s-1.87 7.31-4.09 7.31H65a41.13 41.13 0 0 1-.58-5.34v-3.77a43.13 43.13 0 0 1 .63-5.46zm-31.9 47.16a4.8 4.8 0 0 1-4.5-4.83l-.06-17.84 9.29-.37 2.06 21c-.08 1.81-3.66 2.04-6.79 2.04zM39.28 55a1.51 1.51 0 0 0-1.11.49v.05l-10 .4a1.4 1.4 0 0 0-.67-.41c-1.39-.36-8.29-2.7-8.29-13.86 0-12.5 8.22-13.19 12.63-13.57a15.6 15.6 0 0 0 1.83-.21l10.43-2.12a31.71 31.71 0 0 0-3.46 14.41A32.29 32.29 0 0 0 44.28 55z' />\n  </svg>\n)\n\nexport default StrokeSpeaker\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport i18n, { localesList } from '../../../i18n'\nimport { getLanguage } from '../../../lib/i18n'\n\n// Components\nimport { Modal, ModalBody, ModalActions } from '../../modal/Modal'\nimport SpeakerIcon from '../../../icons/StrokeSpeaker'\nimport Button from '../../button/Button'\n\nconst LanguageModal = ({ t, tReady, onLeave, link, className, ...props }) => {\n  const handleClick = (lang) => {\n    i18n.changeLanguage(lang)\n    onLeave()\n  }\n\n  return (\n    <Modal {...props} className={className} onCancel={onLeave} style={{ maxWidth: '40em' }}>\n      <ModalBody icon={SpeakerIcon}>\n        <p className='gray w-80 center'>{t('languageModal.description')}</p>\n        <div className='pa2 flex flex-wrap'>\n          { localesList.map((lang) =>\n            <button\n              key={`lang-${lang}`}\n              className='pa2 w-33 flex nowrap bg-transparent bn outline-0 aqua pointer'\n              onClick={() => handleClick(lang)}>\n              { getLanguage(lang) }\n            </button>\n          )}\n        </div>\n      </ModalBody>\n\n      <ModalActions>\n        <Button className='ma2' bg='bg-gray' onClick={onLeave}>{t('actions.close')}</Button>\n      </ModalActions>\n    </Modal>\n  )\n}\n\nLanguageModal.propTypes = {\n  onLeave: PropTypes.func.isRequired,\n  t: PropTypes.func.isRequired,\n  tReady: PropTypes.bool\n}\n\nLanguageModal.defaultProps = {\n  className: ''\n}\n\nexport default LanguageModal\n","import React, { Component } from 'react'\nimport { getCurrentLanguage } from '../../lib/i18n'\n\n// Components\nimport Button from '../button/Button'\nimport Overlay from '../overlay/Overlay'\nimport LanguageModal from './language-modal/LanguageModal'\n\nclass LanguageSelector extends Component {\n  state = { isLanguageModalOpen: false }\n\n  onLanguageEditOpen = () => this.setState({ isLanguageModalOpen: true })\n\n  onLanguageEditClose = () => this.setState({ isLanguageModalOpen: false })\n\n  render () {\n    const { t } = this.props\n\n    return (\n      <div>\n        <div className='flex'>\n          <div className='ph4 flex items-center bg-white lh-copy charcoal f6 fw5' style={{ height: 40 }}>\n            {getCurrentLanguage()}\n          </div>\n          <Button minWidth={100} onClick={this.onLanguageEditOpen}>\n            {t('actions.edit')}\n          </Button>\n        </div>\n\n        <Overlay show={this.state.isLanguageModalOpen} onLeave={this.onLanguageEditClose} >\n          <LanguageModal className='outline-0' onLeave={this.onLanguageEditClose} t={t} />\n        </Overlay>\n      </div>\n    )\n  }\n}\n\nexport default LanguageSelector\n","import React from 'react'\nimport AceEditor from 'react-ace'\n\nimport 'brace/mode/json'\nimport './theme/ipfs_dark'\n\nclass JsonEditor extends React.Component {\n  render () {\n    const { value, readOnly, onChange } = this.props\n    const lineHeight = 16\n    const height = Math.max(500, value.split('\\n').length * lineHeight)\n\n    return (\n      <div className='pv3 bg-navy br2'>\n        <AceEditor\n          value={value}\n          readOnly={readOnly}\n          onChange={onChange}\n          mode='json'\n          theme='ipfs_dark'\n          width='100%'\n          height={height + 'px'}\n          fontSize={12}\n          showPrintMargin={false}\n          showGutter\n          editorProps={{ $blockScrolling: Infinity }}\n          setOptions={{ showLineNumbers: true, tabSize: 2 }} />\n      </div>\n    )\n  }\n}\n\nexport default JsonEditor\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { translate, Trans } from 'react-i18next'\nimport Box from '../components/box/Box'\nimport Checkbox from '../components/checkbox/Checkbox'\nimport Title from './Title'\n\nconst isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0\nconst altKey = isMac ? '⌥ option' : 'ALT'\nconst ctrlKey = isMac ? '⌘ command' : 'CTRL'\n\nconst CheckboxSetting = ({ children, title, ...props }) => (\n  <div className='mt2'>\n    <div className='flex items-center'>\n      <div className='w2'>\n        <Checkbox {...props} className='mr1' />\n      </div>\n      <p className='ma0 f6 b'>{title}</p>\n    </div>\n\n    <div className='pl4'>\n      <span>{children}</span>\n    </div>\n  </div>\n)\n\nconst Key = ({ children }) => <span className='monospace br2 bg-snow ph1'>{ children }</span>\n\nexport function DesktopSettings ({ t, doDesktopSettingsToggle, desktopSettings }) {\n  return (\n    <Box className='mb3 pa4'>\n      <Title>{t('ipfsDesktop')}</Title>\n\n      <CheckboxSetting checked={desktopSettings['autoLaunch'] || false}\n        title={t('launchOnStartup')}\n        onChange={() => doDesktopSettingsToggle('autoLaunch')} />\n      <CheckboxSetting checked={desktopSettings['screenshotShortcut'] || false}\n        title={t('autoAddScreenshots')}\n        onChange={() => doDesktopSettingsToggle('screenshotShortcut')}>\n        <p className='mb0 mt1 lh-copy'>\n          <Trans\n            i18nKey='autoAddScreenshotsDescription'\n            defaults='Use <0>{ctrlKey}</0> + <2>{altKey}</2> + <3>S</3> to take screenshots and add them to the repository.'\n            values={{ ctrlKey, altKey }}\n            components={[<Key>0</Key>, <Key>0</Key>, <Key>0</Key>, <Key>0</Key>]} />\n        </p>\n      </CheckboxSetting>\n      <CheckboxSetting checked={desktopSettings['downloadHashShortcut'] || false}\n        title={t('downloadCopiedHash')}\n        onChange={() => doDesktopSettingsToggle('downloadHashShortcut')}>\n        <p className='mb0 mt1 lh-copy'>\n          <Trans\n            i18nKey='downloadCopiedHashDescription'\n            defaults='Use <0>{ctrlKey}</0> + <2>{altKey}</2> + <3>D</3> to download the last copied hash.'\n            values={{ ctrlKey, altKey }}\n            components={[<Key>0</Key>, <Key>0</Key>, <Key>0</Key>, <Key>0</Key>]} />\n        </p>\n      </CheckboxSetting>\n    </Box>\n  )\n}\n\nexport const TranslatedDesktopSettings = translate('settings')(DesktopSettings)\n\nexport default connect(\n  'selectDesktopSettings',\n  'doDesktopSettingsToggle',\n  TranslatedDesktopSettings\n)\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { connect } from 'redux-bundler-react'\nimport { translate, Trans } from 'react-i18next'\n\n// Components\nimport Tick from '../icons/GlyphSmallTick'\nimport Box from '../components/box/Box'\nimport Button from '../components/button/Button'\nimport LanguageSelector from '../components/language-selector/LanguageSelector'\nimport AnalyticsToggle from '../components/analytics-toggle/AnalyticsToggle'\nimport JsonEditor from './editor/JsonEditor'\nimport DesktopSettings from './DesktopSettings'\nimport Title from './Title'\n\nconst PAUSE_AFTER_SAVE_MS = 3000\n\nexport const SettingsPage = ({\n  t, tReady,\n  isConfigBlocked, isLoading, isSaving,\n  hasSaveFailed, hasSaveSucceded, hasErrors, hasLocalChanges, hasExternalChanges, isIpfsDesktop,\n  config, onChange, onReset, onSave, editorKey\n}) => (\n  <div data-id='SettingsPage' className='mw9 center'>\n    <Helmet>\n      <title>{t('title')} - IPFS</title>\n    </Helmet>\n\n    { isIpfsDesktop &&\n      <DesktopSettings />\n    }\n\n    <Box className='mb3 pa4'>\n      <Title>{t('language')}</Title>\n      <LanguageSelector t={t} />\n\n      <div className='pt4'>\n        <Title>{t('analytics')}</Title>\n        <AnalyticsToggle t={t} />\n      </div>\n    </Box>\n\n    <Box>\n      <Title>{t('config')}</Title>\n      <div className='flex pb3'>\n        <div className='flex-auto'>\n          <div className='mw7'>\n            <SettingsInfo\n              t={t}\n              tReady={tReady}\n              config={config}\n              isConfigBlocked={isConfigBlocked}\n              isLoading={isLoading}\n              hasExternalChanges={hasExternalChanges}\n              hasSaveFailed={hasSaveFailed}\n              hasSaveSucceded={hasSaveSucceded} />\n          </div>\n        </div>\n        { config ? (\n          <div className='flex flex-column justify-center flex-row-l items-center-l'>\n            <Button\n              minWidth={100}\n              height={40}\n              bg='bg-charcoal'\n              disabled={isSaving || (!hasLocalChanges && !hasExternalChanges)}\n              onClick={onReset}>\n              {t('reset')}\n            </Button>\n            <SaveButton\n              t={t}\n              tReady={tReady}\n              hasErrors={hasErrors}\n              hasSaveFailed={hasSaveFailed}\n              hasSaveSucceded={hasSaveSucceded}\n              hasLocalChanges={hasLocalChanges}\n              hasExternalChanges={hasExternalChanges}\n              isSaving={isSaving}\n              onClick={onSave} />\n          </div>\n        ) : null }\n      </div>\n      {config ? (\n        <JsonEditor\n          value={config}\n          onChange={onChange}\n          readOnly={isSaving}\n          key={editorKey} />\n      ) : null}\n    </Box>\n  </div>\n)\n\nconst SaveButton = ({ t, hasErrors, hasSaveFailed, hasSaveSucceded, isSaving, hasLocalChanges, hasExternalChanges, onClick }) => {\n  const bg = hasSaveSucceded ? 'bg-green' : 'bg-aqua'\n  return (\n    <Button\n      minWidth={100}\n      height={40}\n      className='mt2 mt0-l ml2-l'\n      bg={bg}\n      disabled={!hasLocalChanges || hasErrors}\n      danger={hasSaveFailed || hasExternalChanges}\n      onClick={onClick}>\n      { hasSaveSucceded && !hasSaveFailed ? (\n        <Tick height={16} className='fill-snow' style={{ transform: 'scale(3)' }} />\n      ) : (\n        isSaving ? t('saving') : t('save')\n      )}\n    </Button>\n  )\n}\n\nconst SettingsInfo = ({ t, isConfigBlocked, hasExternalChanges, hasSaveFailed, hasSaveSucceded, isLoading, config }) => {\n  if (isConfigBlocked) {\n    return (\n      <p className='ma0 lh-copy charcoal f5 mw7'>\n        {t('configApiNotAvailable')}\n      </p>\n    )\n  } else if (!config) {\n    return (\n      <p className='ma0 lh-copy charcoal f5 mw7'>\n        { isLoading ? t('fetchingSettings') : t('settingsUnavailable') }\n      </p>\n    )\n  } else if (hasExternalChanges) {\n    return (\n      <p className='ma0 lh-copy red f5 mw7'>\n        <Trans i18nKey='settingsHaveChanged'>\n          The settings have changed, please click <strong>Reset</strong> to update the editor contents\n        </Trans>\n      </p>\n    )\n  } else if (hasSaveFailed) {\n    return (\n      <p className='ma0 lh-copy red fw6 f5 mw7'>\n        {t('errorOccured')}\n        <span className='db fw4 f6 charcoal-muted'>{t('checkConsole')}</span>\n      </p>\n    )\n  } else if (hasSaveSucceded) {\n    return (\n      <p className='ma0 lh-copy green fw6 f5 mw7'>\n        {t('changesSaved')}\n        <span className='db fw4 f6 charcoal-muted'>{t('settingsWillBeUsedNextTime')}</span>\n      </p>\n    )\n  }\n  return (\n    <p className='ma0 mr2 lh-copy charcoal f6'>\n      {t('ipfsConfigDescription')}\n    </p>\n  )\n}\n\nexport class SettingsPageContainer extends React.Component {\n  state = {\n    // valid json?\n    hasErrors: false,\n    // we edited it\n    hasLocalChanges: false,\n    // something else edited it\n    hasExternalChanges: false,\n    // mutable copy of the config\n    editableConfig: this.props.config,\n    // reset the editor on reset\n    editorKey: Date.now()\n  }\n\n  onChange = (value) => {\n    this.setState({\n      hasErrors: !this.isValidJson(value),\n      hasLocalChanges: this.props.config !== value,\n      editableConfig: value\n    })\n  }\n\n  onReset = () => {\n    this.setState({\n      hasErrors: false,\n      hasLocalChanges: false,\n      hasExternalChanges: false,\n      editableConfig: this.props.config,\n      editorKey: Date.now()\n    })\n  }\n\n  onSave = () => {\n    this.props.doSaveConfig(this.state.editableConfig)\n  }\n\n  isValidJson (str) {\n    try {\n      JSON.parse(str)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  isRecent (msSinceEpoch) {\n    return msSinceEpoch > Date.now() - PAUSE_AFTER_SAVE_MS\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.configSaveLastSuccess !== prevProps.configSaveLastSuccess) {\n      setTimeout(() => this.onReset(), PAUSE_AFTER_SAVE_MS)\n    }\n    if (prevProps.config !== this.props.config) {\n      // no previous config, or we just saved.\n      if (!prevProps.config || this.isRecent(this.props.configSaveLastSuccess)) {\n        return this.setState({\n          editableConfig: this.props.config\n        })\n      }\n      // uh oh... something else edited the config while we were looking at it.\n      if (this.props.config !== this.state.editableConfig) {\n        return this.setState({\n          hasExternalChanges: true\n        })\n      }\n    }\n  }\n\n  render () {\n    const { t, tReady, isConfigBlocked, configIsLoading, configLastError, configIsSaving, configSaveLastSuccess, configSaveLastError, isIpfsDesktop } = this.props\n    const { hasErrors, hasLocalChanges, hasExternalChanges, editableConfig, editorKey } = this.state\n    const hasSaveSucceded = this.isRecent(configSaveLastSuccess)\n    const hasSaveFailed = this.isRecent(configSaveLastError)\n    const isLoading = configIsLoading || (!editableConfig && !configLastError)\n    return (\n      <SettingsPage\n        t={t}\n        tReady={tReady}\n        isConfigBlocked={isConfigBlocked}\n        isLoading={isLoading}\n        isSaving={configIsSaving}\n        hasSaveFailed={hasSaveFailed}\n        hasSaveSucceded={hasSaveSucceded}\n        hasErrors={hasErrors}\n        hasLocalChanges={hasLocalChanges}\n        hasExternalChanges={hasExternalChanges}\n        config={editableConfig}\n        editorKey={editorKey}\n        onChange={this.onChange}\n        onReset={this.onReset}\n        onSave={this.onSave}\n        isIpfsDesktop={isIpfsDesktop} />\n    )\n  }\n}\n\nexport const TranslatedSettingsPage = translate('settings')(SettingsPageContainer)\n\nexport default connect(\n  'selectConfig',\n  'selectIsConfigBlocked',\n  'selectConfigLastError',\n  'selectConfigIsLoading',\n  'selectConfigIsSaving',\n  'selectConfigSaveLastSuccess',\n  'selectConfigSaveLastError',\n  'selectIsIpfsDesktop',\n  'doSaveConfig',\n  TranslatedSettingsPage\n)\n"],"sourceRoot":""}